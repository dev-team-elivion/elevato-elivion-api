create-process:
  post:
    tags:
      - ElevatoRecruitmentRest
    summary: Create Recruitment
    operationId: createRecruitment
    security:
      - apiKey: []
        customerApiKey: []
    parameters:
      - $ref: '../paths/common-models.yaml/#/components/parameters/customerId'
    requestBody:
      $ref: '#/components/requestBodies/CreateRecruitmentRequest'
    responses:
      201:
        description: Created

update-process:
  put:
    tags:
      - ElevatoRecruitmentRest
    summary: Update Recruitment
    operationId: updateRecruitment
    security:
      - apiKey: []
        customerApiKey: []
    parameters:
      - $ref: '../paths/common-models.yaml/#/components/parameters/customerId'
      - $ref: '#/components/parameters/externalRecruitmentProjectId'
    requestBody:
      $ref: '#/components/requestBodies/UpdateRecruitmentRequest'
    responses:
      200:
        description: OK

create-candidate:
  post:
    tags:
      - ElevatoCandidateRest
    summary: Add Candidate
    operationId: createCandidate
    security:
      - apiKey: []
        customerApiKey: []
    parameters:
      - $ref: '../paths/common-models.yaml/#/components/parameters/customerId'
      - $ref: '#/components/parameters/externalRecruitmentProjectId'
    requestBody:
      $ref: '#/components/requestBodies/CreateCandidateRequest'
    responses:
      201:
        description: Created

upload-candidate-file:
  post:
    tags:
      - ElevatoCandidateRest
    summary: Upload Candidate File
    operationId: uploadCandidateFile
    security:
      - apiKey: []
        customerApiKey: []
    parameters:
      - $ref: '../paths/common-models.yaml/#/components/parameters/customerId'
      - $ref: '#/components/parameters/externalRecruitmentProjectId'
      - $ref: '#/components/parameters/externalCandidateId'
    requestBody:
      $ref: '#/components/requestBodies/UploadCandidateFileRequest'
    responses:
      202:
        description: OK

delete-candidate:
  delete:
    tags:
      - ElevatoCandidateRest
    summary: Delete Candidate
    operationId: deleteCandidate
    security:
      - apiKey: []
        customerApiKey: []
    parameters:
      - $ref: '../paths/common-models.yaml/#/components/parameters/customerId'
      - $ref: '#/components/parameters/externalRecruitmentProjectId'
      - $ref: '#/components/parameters/externalCandidateId'
    responses:
      204:
        description: No Content

components:
  parameters:
    externalRecruitmentProjectId:
      name: externalRecruitmentProjectId
      in: path
      required: true
      schema:
        type: string
    externalCandidateId:
      name: externalCandidateId
      in: path
      required: true
      schema:
        type: integer
        format: int64

  requestBodies:
    CreateRecruitmentRequest:
      description: Create Recruitment Process
      required: true
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/CreateRecruitmentRequest'

    UpdateRecruitmentRequest:
      required: true
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/UpdateRecruitmentRequest'

    CreateCandidateRequest:
      required: true
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/CreateCandidateRequest'

    UploadCandidateFileRequest:
      required: true
      content:
        multipart/form-data:
          schema:
            $ref: '#/components/schemas/UploadCandidateFileRequest'

  schemas:
    RecruitmentDetails:
      type: object
      properties:
        shortDescription:
          type: string
        duties:
          type: string
        requiredSkills:
          type: string
        additionalInformation:
          type: string

    RecruitmentId:
      type: object
      properties:
        externalRecruitmentProjectId:
          type: string
      required:
        - externalRecruitmentProjectId

    CreateRecruitmentRequest:
      allOf:
        - $ref: '#/components/schemas/RecruitmentDetails'
        - $ref: '#/components/schemas/RecruitmentId'

    UpdateRecruitmentRequest:
      allOf:
        - $ref: '#/components/schemas/RecruitmentDetails'

    CreateCandidateRequest:
      type: object
      properties:
        externalCandidateId:
          type: string
        files:
          type: array
          items:
            type: string
            format: binary

      required:
        - externalCandidateId

    UploadCandidateFileRequest:
      type: object
      properties:
        file:
          type: string
          format: binary
      required:
        - file
